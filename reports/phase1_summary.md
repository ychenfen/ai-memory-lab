# Phase 1 实验报告：AI 长期记忆系统验证

**日期**: 2026-02-19
**参与者**: DeepSeek (算法) + GLM (验证) + Jarvis (整合)
**仓库**: https://github.com/ychenfen/ai-memory-lab

---

## 1. 实验背景

### 目标
构建 AI 长期记忆系统，从会话日志中自动提取教训（lessons），支持召回和复用。

### Phase 1 范围
- 验证算法核心逻辑
- 5 条种子数据验证
- 召回率目标：100%

---

## 2. 方法

### 2.1 算法设计（DeepSeek）
- **输入**: `data/lessons.jsonl`（格式：{id, trigger, lesson, prevention}）
- **核心模块**:
  - `CandidateExtractor`: 从日志中提取候选教训
  - `ScoringEngine`: 评分和排序
- **输出**: JSON 结果 + Markdown 报告

### 2.2 验证流程（GLM）
1. 准备 5 条种子数据
2. 运行 `python src/lesson_extractor.py --input data/lessons.jsonl`
3. 输出混淆矩阵和评分详情
4. 计算召回率和精确率

### 2.3 整合协调（Jarvis）
- 创建 GitHub 仓库和 MANIFESTO
- 建立 Issue #1 追踪进度
- 整合报告和文档维护

---

## 3. 结果

### 3.1 核心指标

| 指标 | 目标 | 实际 | 状态 |
|------|------|------|------|
| 召回率 | 100% | **100%** (5/5) | ✅ |
| 精确率 | - | **需 Phase 2 负样本验证** | ⏳ |
| F1 分数 | - | **需 Phase 2 负样本验证** | ⏳ |
| 误报率 | - | **需 Phase 2 负样本验证** | ⏳ |

**评估局限性**：Phase 1 聚焦正样本（5 条种子教训），未构造负样本。精确率、F1、误报率需在 Phase 2 引入负样本后评估。

### 3.2 评分分布
- 范围：0.4 - 0.8
- 问题：差异过大，需优化权重

### 3.3 协作流程
- ✅ 仓库创建完成
- ✅ MANIFESTO v0.1 推送
- ✅ Issue #1 追踪有效
- ⚠️ 时间超预期（原定 23:15，实际次日完成）

---

## 4. 改进点

### 4.1 技术层面
1. **评分权重调优**：当前 0.4-0.8 差异过大，需缩小范围
2. **指标体系完善**：补充精确率、F1、误报率
3. **测试数据扩展**：从 5 条扩展到 30 天日志

### 4.2 协作层面
1. **时间估算**：Phase 1 超时，需更合理的时间规划
2. **交付物明确**：脚本推送流程需优化（避免误判状态）
3. **降级方案**：技术问题不阻塞，可用代码片段先行测试

---

## 5. Phase 2 计划

### 目标
- 扩展到 30 天日志验证
- F1 > 0.85
- 评分分布更均匀
- 补齐精确率、F1、误报率指标

### 负样本构建方法
1. **数据源**：从 30 天日志中随机抽取非教训段落
2. **人工确认**：标注为"非教训"的样本
3. **样本规模**：正样本 5 条 + 负样本 20-50 条
4. **评估方式**：计算精确率 = TP / (TP + FP)

### 任务
- [ ] GLM: 准备 30 天日志数据
- [ ] GLM: 构建负样本（随机抽取 + 人工确认）
- [ ] DeepSeek: 调优评分权重
- [ ] GLM: 运行验证，输出完整指标（召回率 + 精确率 + F1 + 误报率）
- [ ] Jarvis: 整合 Phase 2 报告

### 时间线
- 开始：2026-02-19 12:00
- 截止：2026-02-19 18:00（6 小时）

---

## 6. 协作协议验证

### 协议有效性
✅ **角色分工**：算法 → 验证 → 整合，分工明确
✅ **接力规则**：每步完成 @ 下一位，输出物清单清晰
✅ **决策机制**：共识优先，问题及时升级用户
✅ **降级方案**：技术问题时用代码片段并行测试

### 协议改进
- 时间盒需更严格（超时即降级）
- 交付物状态需实时同步（避免误判）

---

## 7. 下一步行动

1. **补充精确率**：GLM 提供总提取数，计算精确率
2. **完善报告**：更新指标，推送到 GitHub
3. **启动 Phase 2**：准备 30 天日志，调优权重

---

**结论**: Phase 1 核心目标达成（召回率 100%），验证了算法可行性和协作协议有效性。Phase 2 将扩展测试范围并优化算法权重。

---

*报告整合：Jarvis*
*算法设计：DeepSeek*
*验证执行：GLM*

**仓库**: https://github.com/ychenfen/ai-memory-lab
**Issue**: https://github.com/ychenfen/ai-memory-lab/issues/1
